# place in the base folder of the iso
# Generated by Anaconda 34.25.2.10
# Generated by pykickstart v3.32
#version=OL9
# Use graphical install
graphical
eula --agreed
repo --name="AppStream" --baseurl=file:///run/install/sources/mount-0000-cdrom/AppStream

%addon com_redhat_kdump --disable

%end

%addon com_redhat_oscap
    content-type = scap-security-guide
    datastream-id = scap_org.open-scap_datastream_from_xccdf_ssg-ol9-xccdf.xml
    xccdf-id = scap_org.open-scap_cref_ssg-ol9-xccdf.xml
    profile = xccdf_org.ssgproject.content_profile_cui
%end

# Keyboard layouts
keyboard --xlayouts='us'
# System language
lang en_US.UTF-8

# Use CDROM installation media
cdrom

%packages --ignoremissing
# @^server-product-environment
# Pander to people who like sticky things such as GUIs
@^graphical-server-environment
@smart-card
aide
audispd-plugins
audit
chrony
crypto-policies
dnf-automatic
fapolicyd
firewalld
gnutls-utils
openscap
openscap-scanner
openssh-clients
openssh-server
policycoreutils
policycoreutils-python-utils
rsyslog
rsyslog-gnutls
scap-security-guide
sudo
tmux
usbguard
-iprutils
-krb5-workstation
-nfs-utils
-sendmail

%end

# Run the Setup Agent on first boot
firstboot --enable

# Generated using Blivet version 3.6.0
ignoredisk --only-use=sda
# Partition clearing information
clearpart --none --initlabel
# Disk partitioning information
part pv.455 --fstype="lvmpv" --ondisk=sda --size=49574
part /boot --fstype="xfs" --ondisk=sda --size=1024
part /boot/efi --fstype="efi" --ondisk=sda --size=600 --fsoptions="umask=0077,shortname=winnt"
volgroup ol --pesize=4096 pv.455
logvol /var/tmp --fstype="xfs" --size=5120 --name=var_tmp --vgname=ol
logvol / --fstype="xfs" --size=18847 --name=root --vgname=ol
logvol /var/log/audit --fstype="xfs" --size=5120 --name=var_log_audit --vgname=ol
logvol /var --fstype="xfs" --size=5120 --name=var --vgname=ol
logvol /tmp --fstype="xfs" --size=5120 --name=tmp --vgname=ol
logvol /home --fstype="xfs" --size=5120 --name=home --vgname=ol
logvol /var/log --fstype="xfs" --size=5120 --name=var_log --vgname=ol

# System timezone
timezone America/Los_Angeles --utc

# Root password
rootpw --iscrypted --lock $6$.Gq2AylD5sHc4Olj$BILP102G7AYri7WdI3GAy4A5rJSoOqx.dY.I9FPrVbWXJDczrtJ3n0ioWPFv/YDL/S67r7rGCYQaKuSKF8Nd2.
user --groups=wheel --name=user --password=$6$7vhHNMyUicLzpNB6$wh.F80UvPYnVNbS/qajD2T0NQqBgkhJYGT4l.AWzDVBsJPqnx.EnsTvnEPjo0M9J./QA1W7XyIA4tA.5S/2H5. --iscrypted --gecos="user"
